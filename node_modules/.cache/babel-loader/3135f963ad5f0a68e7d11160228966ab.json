{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { selectUser } from 'selectors';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { px } from 'styled-minimal';\nimport useTreeChanges from 'tree-changes-hook';\nimport { useAppSelector } from 'modules/hooks';\nimport theme, { headerHeight } from 'modules/theme';\nimport { name } from 'config';\nimport { showAlert } from 'actions';\nimport Footer from 'components/Footer';\nimport Header from 'components/Header';\nimport PrivateRoute from 'components/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute';\nimport SystemAlerts from 'containers/SystemAlerts';\nimport Home from 'routes/Home';\nimport NotFound from 'routes/NotFound';\nimport Private from 'routes/Private';\nconst AppWrapper = styled.div.withConfig({\n  displayName: \"AppWrapper\",\n  componentId: \"sc-11ytvmm-0\"\n})([\"display:flex;flex-direction:column;min-height:100vh;opacity:1 !important;position:relative;transition:opacity 0.5s;\"]);\n_c = AppWrapper;\nconst Main = styled.main.withConfig({\n  displayName: \"Main\",\n  componentId: \"sc-11ytvmm-1\"\n})([\"min-height:100vh;padding:\", \";\"], _ref => {\n  let {\n    isAuthenticated\n  } = _ref;\n  return isAuthenticated ? `${px(headerHeight)} 0 0` : 0;\n});\n_c2 = Main;\n\nfunction Root() {\n  _s();\n\n  const dispatch = useDispatch();\n  const user = useAppSelector(selectUser);\n  const {\n    changed\n  } = useTreeChanges(user);\n  const {\n    isAuthenticated\n  } = user;\n  useEffect(() => {\n    if (changed('isAuthenticated', true)) {\n      dispatch(showAlert('Hello! And welcome!', {\n        variant: 'success',\n        icon: 'bell',\n        timeout: 10\n      }));\n    }\n  }, [dispatch, changed]);\n  return /*#__PURE__*/React.createElement(BrowserRouter, null, /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme\n  }, /*#__PURE__*/React.createElement(AppWrapper, {\n    \"data-testid\": \"app\"\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    defaultTitle: name,\n    defer: false,\n    encodeSpecialCharacters: true,\n    htmlAttributes: {\n      lang: 'pt-br'\n    },\n    titleAttributes: {\n      itemprop: 'name',\n      lang: 'pt-br'\n    },\n    titleTemplate: `%s | ${name}`\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap\",\n    rel: \"stylesheet\"\n  })), isAuthenticated && /*#__PURE__*/React.createElement(Header, null), /*#__PURE__*/React.createElement(Main, {\n    isAuthenticated: isAuthenticated\n  }, /*#__PURE__*/React.createElement(Routes, null, /*#__PURE__*/React.createElement(Route, {\n    element: /*#__PURE__*/React.createElement(PublicRoute, {\n      isAuthenticated: isAuthenticated,\n      to: \"/private\"\n    }, /*#__PURE__*/React.createElement(Home, null)),\n    path: \"/\"\n  }), /*#__PURE__*/React.createElement(Route, {\n    element: /*#__PURE__*/React.createElement(PrivateRoute, {\n      isAuthenticated: isAuthenticated,\n      to: \"/\"\n    }, /*#__PURE__*/React.createElement(Private, null)),\n    path: \"/private\"\n  }), /*#__PURE__*/React.createElement(Route, {\n    element: /*#__PURE__*/React.createElement(NotFound, null),\n    path: \"*\"\n  }))), /*#__PURE__*/React.createElement(Footer, null), /*#__PURE__*/React.createElement(SystemAlerts, null))));\n}\n\n_s(Root, \"kgL2OPwPumYv+laAm9oYrJDKVUI=\", false, function () {\n  return [useDispatch, useAppSelector, useTreeChanges];\n});\n\n_c3 = Root;\nexport default Root;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AppWrapper\");\n$RefreshReg$(_c2, \"Main\");\n$RefreshReg$(_c3, \"Root\");","map":{"version":3,"sources":["/Users/rahulrana/react-redux-saga-ts/src/Root.tsx"],"names":["React","useEffect","Helmet","useDispatch","BrowserRouter","Route","Routes","selectUser","styled","ThemeProvider","px","useTreeChanges","useAppSelector","theme","headerHeight","name","showAlert","Footer","Header","PrivateRoute","PublicRoute","SystemAlerts","Home","NotFound","Private","AppWrapper","div","Main","main","isAuthenticated","Root","dispatch","user","changed","variant","icon","timeout","lang","itemprop"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,QAA6C,kBAA7C;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,OAAOC,MAAP,IAAiBC,aAAjB,QAAsC,mBAAtC;AACA,SAASC,EAAT,QAAmB,gBAAnB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AAEA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,KAAP,IAAgBC,YAAhB,QAAoC,eAApC;AAEA,SAASC,IAAT,QAAqB,QAArB;AAEA,SAASC,SAAT,QAA0B,SAA1B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAIA,MAAMC,UAAU,GAAGjB,MAAM,CAACkB,GAAV;AAAA;AAAA;AAAA,2HAAhB;KAAMD,U;AASN,MAAME,IAAI,GAAGnB,MAAM,CAACoB,IAAV;AAAA;AAAA;AAAA,uCAEG;AAAA,MAAC;AAAEC,IAAAA;AAAF,GAAD;AAAA,SAA0BA,eAAe,GAAI,GAAEnB,EAAE,CAACI,YAAD,CAAe,MAAvB,GAA+B,CAAxE;AAAA,CAFH,CAAV;MAAMa,I;;AAKN,SAASG,IAAT,GAAgB;AAAA;;AACd,QAAMC,QAAQ,GAAG5B,WAAW,EAA5B;AACA,QAAM6B,IAAI,GAAGpB,cAAc,CAACL,UAAD,CAA3B;AACA,QAAM;AAAE0B,IAAAA;AAAF,MAActB,cAAc,CAACqB,IAAD,CAAlC;AAEA,QAAM;AAAEH,IAAAA;AAAF,MAAsBG,IAA5B;AAEA/B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgC,OAAO,CAAC,iBAAD,EAAoB,IAApB,CAAX,EAAsC;AACpCF,MAAAA,QAAQ,CAACf,SAAS,CAAC,qBAAD,EAAwB;AAAEkB,QAAAA,OAAO,EAAE,SAAX;AAAsBC,QAAAA,IAAI,EAAE,MAA5B;AAAoCC,QAAAA,OAAO,EAAE;AAA7C,OAAxB,CAAV,CAAR;AACD;AACF,GAJQ,EAIN,CAACL,QAAD,EAAWE,OAAX,CAJM,CAAT;AAMA,sBACE,oBAAC,aAAD,qBACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAEpB;AAAtB,kBACE,oBAAC,UAAD;AAAY,mBAAY;AAAxB,kBACE,oBAAC,MAAD;AACE,IAAA,YAAY,EAAEE,IADhB;AAEE,IAAA,KAAK,EAAE,KAFT;AAGE,IAAA,uBAAuB,MAHzB;AAIE,IAAA,cAAc,EAAE;AAAEsB,MAAAA,IAAI,EAAE;AAAR,KAJlB;AAKE,IAAA,eAAe,EAAE;AAAEC,MAAAA,QAAQ,EAAE,MAAZ;AAAoBD,MAAAA,IAAI,EAAE;AAA1B,KALnB;AAME,IAAA,aAAa,EAAG,QAAOtB,IAAK;AAN9B,kBAQE;AACE,IAAA,IAAI,EAAC,gGADP;AAEE,IAAA,GAAG,EAAC;AAFN,IARF,CADF,EAcGc,eAAe,iBAAI,oBAAC,MAAD,OAdtB,eAeE,oBAAC,IAAD;AAAM,IAAA,eAAe,EAAEA;AAAvB,kBACE,oBAAC,MAAD,qBACE,oBAAC,KAAD;AACE,IAAA,OAAO,eACL,oBAAC,WAAD;AAAa,MAAA,eAAe,EAAEA,eAA9B;AAA+C,MAAA,EAAE,EAAC;AAAlD,oBACE,oBAAC,IAAD,OADF,CAFJ;AAME,IAAA,IAAI,EAAC;AANP,IADF,eASE,oBAAC,KAAD;AACE,IAAA,OAAO,eACL,oBAAC,YAAD;AAAc,MAAA,eAAe,EAAEA,eAA/B;AAAgD,MAAA,EAAE,EAAC;AAAnD,oBACE,oBAAC,OAAD,OADF,CAFJ;AAME,IAAA,IAAI,EAAC;AANP,IATF,eAiBE,oBAAC,KAAD;AAAO,IAAA,OAAO,eAAE,oBAAC,QAAD,OAAhB;AAA8B,IAAA,IAAI,EAAC;AAAnC,IAjBF,CADF,CAfF,eAoCE,oBAAC,MAAD,OApCF,eAqCE,oBAAC,YAAD,OArCF,CADF,CADF,CADF;AA6CD;;GA1DQC,I;UACU3B,W,EACJS,c,EACOD,c;;;MAHbmB,I;AA4DT,eAAeA,IAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { selectUser } from 'selectors';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { px } from 'styled-minimal';\nimport useTreeChanges from 'tree-changes-hook';\n\nimport { useAppSelector } from 'modules/hooks';\nimport theme, { headerHeight } from 'modules/theme';\n\nimport { name } from 'config';\n\nimport { showAlert } from 'actions';\n\nimport Footer from 'components/Footer';\nimport Header from 'components/Header';\nimport PrivateRoute from 'components/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute';\nimport SystemAlerts from 'containers/SystemAlerts';\nimport Home from 'routes/Home';\nimport NotFound from 'routes/NotFound';\nimport Private from 'routes/Private';\n\nimport { UserState } from 'types';\n\nconst AppWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  opacity: 1 !important;\n  position: relative;\n  transition: opacity 0.5s;\n`;\n\nconst Main = styled.main<Pick<UserState, 'isAuthenticated'>>`\n  min-height: 100vh;\n  padding: ${({ isAuthenticated }) => (isAuthenticated ? `${px(headerHeight)} 0 0` : 0)};\n`;\n\nfunction Root() {\n  const dispatch = useDispatch();\n  const user = useAppSelector(selectUser);\n  const { changed } = useTreeChanges(user);\n\n  const { isAuthenticated } = user;\n\n  useEffect(() => {\n    if (changed('isAuthenticated', true)) {\n      dispatch(showAlert('Hello! And welcome!', { variant: 'success', icon: 'bell', timeout: 10 }));\n    }\n  }, [dispatch, changed]);\n\n  return (\n    <BrowserRouter>\n      <ThemeProvider theme={theme}>\n        <AppWrapper data-testid=\"app\">\n          <Helmet\n            defaultTitle={name}\n            defer={false}\n            encodeSpecialCharacters\n            htmlAttributes={{ lang: 'pt-br' }}\n            titleAttributes={{ itemprop: 'name', lang: 'pt-br' }}\n            titleTemplate={`%s | ${name}`}\n          >\n            <link\n              href=\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap\"\n              rel=\"stylesheet\"\n            />\n          </Helmet>\n          {isAuthenticated && <Header />}\n          <Main isAuthenticated={isAuthenticated}>\n            <Routes>\n              <Route\n                element={\n                  <PublicRoute isAuthenticated={isAuthenticated} to=\"/private\">\n                    <Home />\n                  </PublicRoute>\n                }\n                path=\"/\"\n              />\n              <Route\n                element={\n                  <PrivateRoute isAuthenticated={isAuthenticated} to=\"/\">\n                    <Private />\n                  </PrivateRoute>\n                }\n                path=\"/private\"\n              />\n              <Route element={<NotFound />} path=\"*\" />\n            </Routes>\n          </Main>\n          <Footer />\n          <SystemAlerts />\n        </AppWrapper>\n      </ThemeProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default Root;\n"]},"metadata":{},"sourceType":"module"}