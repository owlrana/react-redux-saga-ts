{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useUnmount } from 'react-use';\nimport styled from 'styled-components';\nimport { responsive } from 'styled-minimal';\nimport { useAppSelector } from 'modules/hooks';\nimport { spacer } from 'modules/theme';\nimport { hideAlert } from 'actions';\nimport Alert from 'components/Alert';\nimport Transition from 'components/Transition';\nconst Base = styled.div.withConfig({\n  displayName: \"Base\",\n  componentId: \"sc-1eg1hzx-0\"\n})([\"position:fixed;z-index:1000;> div{> * + *{margin-top:\", \";}}\"], spacer(3));\nconst TopLeft = styled(Base).withConfig({\n  displayName: \"TopLeft\",\n  componentId: \"sc-1eg1hzx-1\"\n})([\"left:\", \";top:\", \";width:26rem;\", \";\"], spacer(3), spacer(3),\n/* sc-custom '@media-query' */\nresponsive({\n  md: {\n    width: '32rem'\n  }\n}));\n_c = TopLeft;\nconst TopRight = styled(Base).withConfig({\n  displayName: \"TopRight\",\n  componentId: \"sc-1eg1hzx-2\"\n})([\"right:\", \";top:\", \";width:26rem;\", \";\"], spacer(3), spacer(3),\n/* sc-custom '@media-query' */\nresponsive({\n  md: {\n    width: '32rem'\n  }\n}));\n_c2 = TopRight;\nconst BottomLeft = styled(Base).withConfig({\n  displayName: \"BottomLeft\",\n  componentId: \"sc-1eg1hzx-3\"\n})([\"bottom:\", \";left:\", \";width:26rem;\", \";\"], spacer(3), spacer(3),\n/* sc-custom '@media-query' */\nresponsive({\n  md: {\n    width: '32rem'\n  }\n}));\n_c3 = BottomLeft;\nconst BottomRight = styled(Base).withConfig({\n  displayName: \"BottomRight\",\n  componentId: \"sc-1eg1hzx-4\"\n})([\"bottom:\", \";right:\", \";width:26rem;\", \";\"], spacer(3), spacer(3),\n/* sc-custom '@media-query' */\nresponsive({\n  md: {\n    width: '32rem'\n  }\n}));\n_c4 = BottomRight;\nconst SystemAlertsWrapper = styled.div.withConfig({\n  displayName: \"SystemAlertsWrapper\",\n  componentId: \"sc-1eg1hzx-5\"\n})([\"pointer-events:none;position:fixed;z-index:1000;\"]);\n_c5 = SystemAlertsWrapper;\nexport default function SystemAlerts() {\n  _s();\n\n  const dispatch = useDispatch();\n  const alerts = useAppSelector(s => s.alerts.data);\n  const timeouts = useRef({});\n  useEffect(() => {\n    const {\n      current\n    } = timeouts;\n\n    if (alerts.length) {\n      alerts.forEach(d => {\n        if (d.timeout && !current[d.id]) {\n          current[d.id] = setTimeout(() => {\n            dispatch(hideAlert(d.id));\n          }, d.timeout * 1000);\n        }\n      });\n    }\n  }, [alerts, dispatch]);\n  useUnmount(() => {\n    const {\n      current\n    } = timeouts;\n    Object.keys(current).forEach(d => {\n      clearTimeout(current[d]);\n    });\n  });\n  const handleClick = useCallback(event => {\n    event.preventDefault();\n    const {\n      id = ''\n    } = event.currentTarget.dataset;\n    dispatch(hideAlert(id));\n  }, [dispatch]);\n  const renderAlerts = useCallback(position => {\n    const items = alerts.filter(d => d.position === position);\n\n    if (!items.length) {\n      return null;\n    }\n\n    return items.map(d => /*#__PURE__*/React.createElement(Alert, {\n      key: d.id,\n      handleClickClose: handleClick,\n      icon: d.icon,\n      id: d.id,\n      variant: d.variant\n    }, d.message));\n  }, [alerts, handleClick]);\n  return /*#__PURE__*/React.createElement(SystemAlertsWrapper, {\n    key: \"SystemAlerts\"\n  }, /*#__PURE__*/React.createElement(TopLeft, null, /*#__PURE__*/React.createElement(Transition, {\n    transition: \"slideRight\"\n  }, renderAlerts('top-left'))), /*#__PURE__*/React.createElement(TopRight, null, /*#__PURE__*/React.createElement(Transition, {\n    transition: \"slideLeft\"\n  }, renderAlerts('top-right'))), /*#__PURE__*/React.createElement(BottomLeft, null, /*#__PURE__*/React.createElement(Transition, {\n    transition: \"slideRight\"\n  }, renderAlerts('bottom-left'))), /*#__PURE__*/React.createElement(BottomRight, null, /*#__PURE__*/React.createElement(Transition, {\n    transition: \"slideLeft\"\n  }, renderAlerts('bottom-right'))));\n}\n\n_s(SystemAlerts, \"s1loWwY5OP9jHqIOKQLpZi009hI=\", false, function () {\n  return [useDispatch, useAppSelector, useUnmount];\n});\n\n_c6 = SystemAlerts;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"TopLeft\");\n$RefreshReg$(_c2, \"TopRight\");\n$RefreshReg$(_c3, \"BottomLeft\");\n$RefreshReg$(_c4, \"BottomRight\");\n$RefreshReg$(_c5, \"SystemAlertsWrapper\");\n$RefreshReg$(_c6, \"SystemAlerts\");","map":{"version":3,"sources":["/Users/rahulrana/react-redux-saga-boilerplate/src/containers/SystemAlerts.tsx"],"names":["React","useCallback","useEffect","useRef","useDispatch","useUnmount","styled","responsive","useAppSelector","spacer","hideAlert","Alert","Transition","Base","div","TopLeft","md","width","TopRight","BottomLeft","BottomRight","SystemAlertsWrapper","SystemAlerts","dispatch","alerts","s","data","timeouts","current","length","forEach","d","timeout","id","setTimeout","Object","keys","clearTimeout","handleClick","event","preventDefault","currentTarget","dataset","renderAlerts","position","items","filter","map","icon","variant","message"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useUnmount } from 'react-use';\nimport styled from 'styled-components';\nimport { responsive } from 'styled-minimal';\n\nimport { useAppSelector } from 'modules/hooks';\nimport { spacer } from 'modules/theme';\n\nimport { hideAlert } from 'actions';\n\nimport Alert from 'components/Alert';\nimport Transition from 'components/Transition';\n\nconst Base = styled.div`\n  position: fixed;\n  z-index: 1000;\n\n  > div {\n    > * + * {\n      margin-top: ${spacer(3)};\n    }\n  }\n`;\n\nconst TopLeft = styled(Base)`\n  left: ${spacer(3)};\n  top: ${spacer(3)};\n  width: 26rem;\n\n  ${\n    /* sc-custom '@media-query' */ responsive({\n      md: {\n        width: '32rem',\n      },\n    })\n  };\n`;\n\nconst TopRight = styled(Base)`\n  right: ${spacer(3)};\n  top: ${spacer(3)};\n  width: 26rem;\n\n  ${\n    /* sc-custom '@media-query' */ responsive({\n      md: {\n        width: '32rem',\n      },\n    })\n  };\n`;\n\nconst BottomLeft = styled(Base)`\n  bottom: ${spacer(3)};\n  left: ${spacer(3)};\n  width: 26rem;\n\n  ${\n    /* sc-custom '@media-query' */ responsive({\n      md: {\n        width: '32rem',\n      },\n    })\n  };\n`;\n\nconst BottomRight = styled(Base)`\n  bottom: ${spacer(3)};\n  right: ${spacer(3)};\n  width: 26rem;\n\n  ${\n    /* sc-custom '@media-query' */ responsive({\n      md: {\n        width: '32rem',\n      },\n    })\n  };\n`;\n\nconst SystemAlertsWrapper = styled.div`\n  pointer-events: none;\n  position: fixed;\n  z-index: 1000;\n`;\n\nexport default function SystemAlerts() {\n  const dispatch = useDispatch();\n  const alerts = useAppSelector(s => s.alerts.data);\n  const timeouts: Record<string, any> = useRef({});\n\n  useEffect(() => {\n    const { current } = timeouts;\n\n    if (alerts.length) {\n      alerts.forEach(d => {\n        if (d.timeout && !current[d.id]) {\n          current[d.id] = setTimeout(() => {\n            dispatch(hideAlert(d.id));\n          }, d.timeout * 1000);\n        }\n      });\n    }\n  }, [alerts, dispatch]);\n\n  useUnmount(() => {\n    const { current } = timeouts;\n\n    Object.keys(current).forEach(d => {\n      clearTimeout(current[d]);\n    });\n  });\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault();\n      const { id = '' } = event.currentTarget.dataset;\n\n      dispatch(hideAlert(id));\n    },\n    [dispatch],\n  );\n\n  const renderAlerts = useCallback(\n    (position: string) => {\n      const items = alerts.filter(d => d.position === position);\n\n      if (!items.length) {\n        return null;\n      }\n\n      return items.map(d => (\n        <Alert\n          key={d.id}\n          handleClickClose={handleClick}\n          icon={d.icon}\n          id={d.id}\n          variant={d.variant}\n        >\n          {d.message}\n        </Alert>\n      ));\n    },\n    [alerts, handleClick],\n  );\n\n  return (\n    <SystemAlertsWrapper key=\"SystemAlerts\">\n      <TopLeft>\n        <Transition transition=\"slideRight\">{renderAlerts('top-left')}</Transition>\n      </TopLeft>\n      <TopRight>\n        <Transition transition=\"slideLeft\">{renderAlerts('top-right')}</Transition>\n      </TopRight>\n      <BottomLeft>\n        <Transition transition=\"slideRight\">{renderAlerts('bottom-left')}</Transition>\n      </BottomLeft>\n      <BottomRight>\n        <Transition transition=\"slideLeft\">{renderAlerts('bottom-right')}</Transition>\n      </BottomRight>\n    </SystemAlertsWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}